"use strict";(self.webpackChunkbirt_website=self.webpackChunkbirt_website||[]).push([[3812],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return h}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),l=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(r),h=a,m=d["".concat(p,".").concat(h)]||d[h]||c[h]||i;return r?n.createElement(m,o(o({ref:t},u),{},{components:r})):n.createElement(m,o({ref:t},u))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=r[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},4271:function(e,t,r){r.r(t),r.d(t,{contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return u}});var n=r(7462),a=r(3366),i=(r(7294),r(3905)),o=["components"],s={id:"using-php",title:"Using PHP",sidebar_label:"Using PHP"},p=void 0,l={unversionedId:"integrating/using-php",id:"integrating/using-php",isDocsHomePage:!1,title:"Using PHP",description:"Motivation",source:"@site/docs/integrating/using-php.md",sourceDirName:"integrating",slug:"/integrating/using-php",permalink:"/birt-website/docs/integrating/using-php",editUrl:"https://github.com/eclipse-birt/birt-website/tree/main/docs/integrating/using-php.md",tags:[],version:"current",frontMatter:{id:"using-php",title:"Using PHP",sidebar_label:"Using PHP"},sidebar:"someSidebar",previous:{title:"Viewer Usage",permalink:"/birt-website/docs/integrating/viewer-usage"},next:{title:"Design Engine API",permalink:"/birt-website/docs/integrating/deapi"}},u=[{value:"Motivation",id:"motivation",children:[],level:3},{value:"Setup",id:"setup",children:[],level:3},{value:"Running a Report",id:"running-a-report",children:[],level:3},{value:"Passing Parameters",id:"passing-parameters",children:[],level:3},{value:"Parameter Form",id:"parameter-form",children:[],level:3}],c={toc:u};function d(e){var t=e.components,r=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"motivation"},"Motivation"),(0,i.kt)("p",null,"BIRT is designed to be integrated into a Java EE web application. But, what if your chosen development environment is something else, such as PHP? Can you still use BIRT? Yes, you can.  This page discusses how to use BIRT from PHP."),(0,i.kt)("h3",{id:"setup"},"Setup"),(0,i.kt)("p",null,"PHP has the ability to call Java classes using a PHP/Java Bridge. So, one integration option is to have the PHP engine call the BIRT Engine directly. The scenario is discussed in ",(0,i.kt)("a",{parentName:"p",href:"https://www.theserverside.com/news/1363642/Intergrating-BIRT-with-PHP"},"an article here"),". "),(0,i.kt)("p",null,"Another option is to host BIRT on its own app server, such as Tomcat, and use the BIRT Viewer URLs to work with BIRT. The rest of this page discusses this option."),(0,i.kt)("p",null,"The first step is to install Tomcat and the BIRT viewer. Let's assume that you've set up Tomcat on the same machine as the web server running Apache, and that Tomcat listens on port 8080. Once the setup works, we're ready to focus on the PHP side."),(0,i.kt)("h3",{id:"running-a-report"},"Running a Report"),(0,i.kt)("p",null,"Next step is to run a report from within a PHP script. Let's assume we have a report named test.rptdesign stored in C:/temp. We use a browser redirect to run the report. The redirect appears in an HTML header. Headers must be written before adding any content to the page:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'$fname = "c:/temp/test.rptdesign";\n// Redirect browser\n$dest = "http://localhost:8080/birt-viewer/run?__report=";\n$dest .= urlencode( realpath( \\$fname ) );\nheader("Location: \\$dest" );\n')),(0,i.kt)("p",null,"The name of the report is given as an absolute path, but a relative path is also allowed once you set up the BIRT_VIEWER_WORKING_FOLDER configuration variable in the BIRT viewer web app's web.xml file. Be sure to encode the file name for use in a URL."),(0,i.kt)("h3",{id:"passing-parameters"},"Passing Parameters"),(0,i.kt)("p",null,"Suppose your report takes parameters. The test report above has one parameter called sample. We simply add them to the report URL in the form described in ",(0,i.kt)("a",{parentName:"p",href:"/birt-website/docs/integrating/viewer-usage"},"Using the Report Viewer"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'$fname = "c:/temp/test.rptdesign";\n$paramValue = "Hi there!";\n// Redirect browser\n$dest = "http://localhost:8080/birt-viewer/run?__report=";\n$dest .= urlencode( realpath( \\$fname ) );\n$dest .= ";sample=" . urlencode( \\$paramValue );\nheader("Location: \\$dest" );\n')),(0,i.kt)("p",null,"The parameter value must also be encoded when placed into the URL."),(0,i.kt)("h3",{id:"parameter-form"},"Parameter Form"),(0,i.kt)("p",null,"Ideally, we could use PHP to create a UI form that prompts for the report parameters. The BIRT viewer creates this form in Java using information in the report design. Unfortunately, at present, there is no way to retrieve the raw parameter descriptions from the BIRT viewer using a URL. Instead, there are two alternatives we can use."),(0,i.kt)("p",null,"First, if we know the parameters ahead of time, we can design a custom form in PHP that prompts the user for them. This works if we have a small number of reports, or if we need to create a specialized parameter page for each report anyway."),(0,i.kt)("p",null,"Second, we can let the BIRT viewer display the parameter page using the frameset URL."))}d.isMDXComponent=!0}}]);